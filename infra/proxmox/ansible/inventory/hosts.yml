---
all:
  children:
    runners:
      hosts:
        github-runner:
          ansible_host: smoker-runner  # Tailscale hostname (100.105.61.87)
          ansible_user: root
          ansible_python_interpreter: /usr/bin/python3

    cloud_servers:
      children:
        dev_cloud:
          hosts:
            smart-smoker-dev-cloud:
              ansible_host: smoker-dev-cloud  # Tailscale hostname (100.106.181.103)
              ansible_user: root
              ansible_python_interpreter: /usr/bin/python3
              environment: dev

        prod_cloud:
          hosts:
            smart-smoker-cloud-prod:
              ansible_host: smokecloud-1  # Tailscale hostname (100.83.77.76)
              ansible_user: root
              ansible_python_interpreter: /usr/bin/python3
              environment: prod

    # Virtual Smoker Devices (Phase 3 Story 2)
    # After Tailscale is configured, update ansible_host to use Tailscale hostname
    # for consistent access from GitHub runner
    devices:
      hosts:
        virtual-smoker-device:
          # Initial setup uses IP address (update to Tailscale hostname after setup)
          # ansible_host: virtual-smoker  # Use after Tailscale is configured
          ansible_host: 10.20.0.40  # Direct IP for initial provisioning
          ansible_user: smoker
          ansible_python_interpreter: /usr/bin/python3
          # Tailscale configuration (used by setup-virtual-smoker.yml)
          tailscale_hostname: virtual-smoker
          tailscale_tags:
            - tag:device
            - tag:virtual
