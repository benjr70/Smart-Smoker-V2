#!/bin/sh
# Smart Smoker V2 - Pre-commit hook
# This hook runs linting and formatting checks before each commit

echo "ğŸ” Running pre-commit checks..."

# Run linting
echo "ğŸ“ Checking lint..."
npm run lint:fix --silent
if [ $? -ne 0 ]; then
  echo "âŒ Linting failed. Please fix the issues and try again."
  exit 1
fi

# Run formatting
echo "âœ¨ Checking formatting..."
npm run format:check --silent
if [ $? -ne 0 ]; then
  echo "âŒ Code formatting issues found. Running prettier..."
  npm run format --silent
  echo "âœ… Code formatted. Please review changes and commit again."
  exit 1
fi

echo "âœ… All checks passed!"
exit 0
